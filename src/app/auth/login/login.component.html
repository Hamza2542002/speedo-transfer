<div class="login bg-grey-0">
  <main>
    <header class="login-header">
      <p class="title-sm-0 sb">Speedo Transfer</p>
      <img
        src="../../../assets/Icons(SVG)/cancel.svg"
        class="text-grey-900 close-icon"
        alt=""
        (click)="closeForm()"
      />
    </header>
    <div class="login-content">
      <app-warning-message
        *ngIf="showWarning"
        (closeWarning)="closeWarning($event)"
      ></app-warning-message>
      <header *ngIf="!loginAgain" class="content-header">
        <p class="title-2 text-grey-900 sb">Login</p>
        <p class="text-grey-500 body">
          New Account?
          <a
            [routerLink]="['/register']"
            class="text-grey-500 md text-underline"
            >Sign Up</a
          >
        </p>
      </header>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" action="">
        <div class="form-header">
          <p class="title-sm-2 sb text-grey-900" *ngIf="!loginAgain">
            Login here
          </p>
          <p class="title-sm-2 sb text-grey-900" *ngIf="loginAgain">
            Welcome Back
          </p>
          <p *ngIf="!loginAgain" class="rg text-gery-500 body">
            Welcome back.Login to your account
          </p>
          <p *ngIf="loginAgain" class="rg text-gery-500 body">
            Login to your account
          </p>
        </div>
        <div class="input-container">
          <div class="input-group">
            <label class="body text-grey-700 md">Your email address</label>
            <input
              formControlName="email"
              required
              class="input text-grey-100"
              type="email"
              placeholder="Email@gmail.com"
              email
            />
            <div *ngIf="loginForm.controls['email'].invalid && submitted">
              <small
                *ngIf="loginForm.get('email')?.invalid"
                class="text-danger-300"
                >{{ getEmailErrorMessage() }}</small
              >
            </div>
          </div>
          <div class="input-group">
            <label class="body text-grey-700 md">Password</label>
            <div class="pass-cont">
              <input
                formControlName="password"
                class="input text-grey-100"
                [type]="isPasswordVisible ? 'text' : 'password'"
                placeholder="********"
                password
              />
              <img
                *ngIf="!isPasswordVisible"
                class="pass-icon"
                src="../../../assets/Icons(SVG)/Close-eye.svg"
                alt=""
                (click)="togglePassword()"
              />
              <img
                *ngIf="isPasswordVisible"
                (click)="togglePassword()"
                class="pass-icon"
                src="../../../assets/Icons(SVG)/Open-eye.svg"
                alt=""
              />
            </div>
            <div *ngIf="loginForm.controls['password'].invalid && submitted">
              <small
                *ngIf="loginForm.get('password')?.invalid"
                class="text-danger-300"
                >{{ getPasswordErrorMessage() }}</small
              >
            </div>
          </div>
        </div>

        <button
          type="submit"
          class="btn-primary body"
          [disabled]="loginForm.invalid"
        >
          Login
        </button>
        <p class="text-grey-500 body">
          Don’t have an account?
          <a
            [routerLink]="['/register']"
            class="text-primary-300 text-underline md"
            >Crete Account</a
          >
        </p>
      </form>
    </div>
  </main>
  <p class="login-footer body md text-grey-900 bg-primary-50">
    ©Speedo Transfer Payments Limited 2024
  </p>
</div>
